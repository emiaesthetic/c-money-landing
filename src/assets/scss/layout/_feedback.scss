@use '../abstracts/media' as media;
@use '../abstracts/mixins' as mixins;

.feedback {
  --count: 3;
  --column-gap: 30px;
  --row-gap: 20px;

  padding-block: 90px 113px;

  @include media.laptop {
    --column-gap: 0px;

    padding-block: 90px;
  }

  @include media.laptop-less {
    --column-gap: 20px;
    --count: 2;
  }

  @include media.tablet {
    --count: 2;

    padding-block: 77px 80px;
  }

  @include media.mobile-lg {
    --count: 1;
  }

  @include media.mobile {
    padding-block: 60px;
  }

  &__container {
    position: relative;
  }

  &__title {
    margin-bottom: 40px;

    @include media.tablet {
      max-width: 380px;
    }

    @include media.mobile-lg {
      max-width: 270px;
      margin-bottom: 20px;
    }

    @include media.mobile {
      max-width: 210px;
      margin-bottom: 20px;
    }
  }

  &__list {
    display: flex;
    flex-wrap: wrap;
    gap: var(--row-gap) var(--column-gap);
    justify-content: space-between;
    align-items: stretch;
    max-width: 960px;
    margin-inline: auto;

    @include media.laptop {
      max-width: 860px;
    }

    @include media.laptop-less {
      max-width: 680px;
    }

    @include media.tablet {
      max-width: 460px;
    }
  }

  &__item {
    flex-basis: calc(
      (100% - var(--column-gap) * (var(--count) - 1)) / var(--count)
    );

    &:first-child {
      @include media.laptop {
        padding-left: 12px;
      }

      @include media.laptop-less {
        padding-left: unset;
      }
    }

    &:last-child {
      @include media.laptop {
        padding-right: 12px;
      }

      @include media.laptop-less {
        padding-right: unset;
      }
    }
  }

  &__author {
    margin: 0;
  }

  &__author-img {
    margin-inline: auto;
    margin-bottom: 10px;

    @include media.tablet {
      width: 80px;
      height: 80px;
    }
  }

  &__author-name {
    margin-bottom: 10px;
    font-weight: 700;
    font-size: var(--font-size-base);
    line-height: 1.3;
    text-align: center;
  }

  &__text {
    max-width: 260px;
    margin: 0 auto;
    font-size: var(--font-size-base);
    line-height: 1.3;
    text-align: center;

    @include media.mobile {
      max-width: 191px;
    }
  }

  &__button {
    --offset: clamp(20px, -11.25rem + 19.5313vw, 70px);

    position: absolute;
    top: 49%;
    width: 50px;
    height: 50px;
    border-radius: 50%;
    background-color: transparent;

    @include mixins.transition(background-color);

    @include mixins.hover {
      background-color: var(--slider-button-background-hover);
    }

    @include mixins.focus-outline;

    @include media.tablet {
      --offset: 18px;

      top: 54%;
    }

    @include media.mobile-lg {
      width: 36px;
      height: 36px;
    }
  }

  &__button--prev {
    left: var(--offset);
  }

  &__button--next {
    right: var(--offset);
    rotate: 180deg;
  }
}
